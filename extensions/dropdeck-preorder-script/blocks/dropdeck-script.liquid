{% schema %}
{
  "name": "t:script.name",
  "target": "head",
  "settings": [
    {
      "type": "paragraph",
      "content": "t:script.description"
    },
    {
      "type": "select",
      "id": "setup_choice",
      "label": "t:script.setup_choice.label",
      "options": [
        {
          "value": "simple",
          "label": "t:script.setup_choice.options.simple"
        },
        {
          "value": "advanced",
          "label": "t:script.setup_choice.options.advanced"
        }
      ],
      "default": "simple"
    },
    {
      "type": "header",
      "content": "t:script.simple_setup.header"
    },
    {
      "type": "checkbox",
      "id": "display_release_date",
      "label": "t:script.simple_setup.display_release_date.label",
      "info": "t:script.simple_setup.display_release_date.info",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "display_unit_restriction",
      "label": "t:script.simple_setup.display_unit_restriction.label",
      "info": "t:script.simple_setup.display_unit_restriction.info",
      "default": true
    }
  ]
}
{% endschema %}

{%- case block.settings.setup_choice -%}
  {%- when "simple" -%}
    <script src="{{ 'dropdeck-preorder-script-simple.js' | asset_url }}" defer></script>

    <script type="application/json" class="js-dropdeck-script-simple-settings">
      {
        "settings": {
          "display_release_date": {{ block.settings.display_release_date | json }},
          "display_unit_restriction": {{ block.settings.display_unit_restriction | json }}
        },
        "translations": {
          "fatal_error": {{ 'script.fatal_error' | t | json }},
          "limit_per_customer": {{ 'script.limit_per_customer' | t | json }},
          "release_date": {{ 'script.release_date' | t | json }},
          "limit_exceeded": {{ 'script.limit_exceeded' | t | json }},
          "added_capitalised": {{ 'script.added_capitalised' | t | json }},
          "added_lowercase": {{ 'script.added_lowercase' | t | json }}
        }
      }
    </script>
{%- endcase -%}
